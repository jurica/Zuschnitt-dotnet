@inject AppState AppState

<FluentMenuItem @onclick="Clicked">
    <FluentStack Orientation="Orientation.Horizontal" VerticalAlignment="VerticalAlignment.Center">
        @if (Checked)
        {
            <FluentIcon Value="@(new Icons.Regular.Size20.CheckboxChecked())"/>
        }
        else
        {
            <FluentIcon Value="@(new Icons.Regular.Size20.CheckboxUnchecked())"/>
        }
        @Text
    </FluentStack>
</FluentMenuItem>

@code {
    [Parameter] public string Text { get; set; } = "";
    [Parameter] public bool Checked { get; set; }
    [Parameter] public EventCallback<bool> CheckedChanged { get; set; }

    private void Clicked()
    {
        Checked = !Checked;
        AppState.StateHasChanged();
        CheckedChanged.InvokeAsync(Checked);
    }

}